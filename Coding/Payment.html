<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DivyaCodeMaster - Payment</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex justify-center items-center h-screen">

  <div class="bg-white shadow-lg rounded-xl p-6 max-w-md w-full">
    <h1 class="text-2xl font-bold text-indigo-700 mb-4 text-center">Payment Page</h1>

    <!-- Name -->
    <label class="block text-sm font-medium mb-1">Full Name</label>
    <input type="text" id="name" class="w-full p-2 border rounded-md mb-3" placeholder="Enter your name">

    <!-- Email -->
    <!-- <label class="block text-sm font-medium mb-1">Email</label>
    <input type="email" id="email" class="w-full p-2 border rounded-md mb-3" placeholder="Enter your email"> -->

    <!-- Dropdown for Courses -->
    <label class="block text-sm font-medium mb-1">Select Course</label>
    <select id="course" class="w-full p-2 border rounded-md mb-3" onchange="setAmount()">
      <option value="">-- Select a Course --</option>
      <option value="Grade 1">Grade 1</option>
      <option value="Grade 2">Grade 2</option>
      <option value="Grade 3">Grade 3</option>
      <option value="Grade 4">Grade 4</option>
      <option value="Grade 5">Grade 5</option>
      <option value="Grade 6">Grade 6</option>
      <option value="Grade 7">Grade 7</option>
      <option value="Grade 8">Grade 8</option>
      <option value="Grade 9">Grade 9</option>
      <option value="Grade 10">Grade 10</option>
      <option value="Grade 11 PCM">Grade 11 PCM</option>
      <option value="Grade 12 PCM">Grade 12 PCM</option>
      <option value="Kids Tuition">Kids Tuition</option>
      <option value="Special Subject">Special Subject</option>
      <option value="Summer Program">Summer Program</option>
      <option value="Java Programming">Java Programming</option>
      <option value="C & C++ Programming">C & C++ Programming</option>
      <option value="React">React</option>
      <option value="Javascript">Javascript</option>
      <option value="Spring Boot">Spring Boot</option>
      <option value="Full Stack Mastery">Full Stack Mastery</option>
    </select>

    <!-- Amount -->
    <label class="block text-sm font-medium mb-1">Amount (₹ per month)</label>
    <input type="text" id="amount" class="w-full p-2 border rounded-md mb-1" readonly placeholder="Monthly amount">
    <p id="monthlyAmount" class="text-sm text-green-600 font-medium mb-3"></p>

    <!-- Payment Method -->
    <label class="block text-sm font-medium mb-1">Choose Payment Method</label>
    <div class="flex flex-col gap-2 mb-3">
      <label class="flex items-center gap-2">
        <input type="radio" name="paymentApp" value="razorpay" checked> Razorpay
      </label>
    </div>

    <!-- Pay Button -->
    <button onclick="makePayment()" class="w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition">Proceed to Pay</button>

    <!-- Back Button -->
    <button onclick="window.location.href='Home.html#courses'" class="w-full mt-3 bg-transparent border border-indigo-600 text-indigo-600 py-2 rounded-lg font-semibold hover:bg-indigo-100 transition">Back to Home</button>
  </div>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
    // ✅ Monthly prices directly
    const coursePrices = {
      "Grade 1": 900,
      "Grade 2": 1200,
      "Grade 3": 1500,
      "Grade 4": 1600,
      "Grade 5": 1600,
      "Grade 6": 1700,
      "Grade 7": 1700,
      "Grade 8": 1800,
      "Grade 9": 2000,
      "Grade 10": 2000,
      "Grade 11 PCM": 2500,
      "Grade 12 PCM": 2500,
      "Kids Tuition": 1200,
      "Special Subject": 1800,
      "Summer Program": 2500,
      "Java Programming": 2999,
      "C & C++ Programming": 2799,
      "React": 3499,
      "Javascript": 2499,
      "Spring Boot": 3299,
      "Full Stack Mastery": 4999
    };

    function setAmount() {
      const course = document.getElementById('course').value;
      const amountField = document.getElementById('amount');
      const monthlyField = document.getElementById('monthlyAmount');

      if (course && coursePrices[course]) {
        const perMonth = coursePrices[course];
        amountField.value = `₹${perMonth}`;
        monthlyField.textContent = `Monthly fee: ₹${perMonth}`;
      } else {
        amountField.value = "";
        monthlyField.textContent = "";
      }
    }

    function makePayment() {
      const name = document.getElementById('name').value.trim();
    //   const email = document.getElementById('email').value.trim();
      const course = document.getElementById('course').value;
      const amount = document.getElementById('amount').value.replace('₹', '');

      if (!name || !course || !amount) {
        alert("❌ Please fill all fields and select a course.");
        return;
      }

      const options = {
        key: "rzp_test_wSkljFvQCAobu1",
        amount: amount * 100,
        currency: "INR",
        name: "DivyaCodeMaster",
        description: course + " Payment",
        handler: function (response) {
          alert("✅ Payment Successful!\nPayment ID: " + response.razorpay_payment_id);
        },
        prefill: {
          name: name
        },
        theme: {
          color: "#4F46E5"
        }
      };
      const rzp = new Razorpay(options);
      rzp.open();
    }
  </script>

</body>
</html>
